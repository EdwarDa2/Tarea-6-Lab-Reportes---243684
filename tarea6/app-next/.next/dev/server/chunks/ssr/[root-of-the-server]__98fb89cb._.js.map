{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/lib/db.ts"],"sourcesContent":["// app-next/lib/db.ts\r\nimport { Pool } from 'pg';\r\n\r\nconst pool = new Pool({\r\n  connectionString: process.env.DATABASE_URL,\r\n});\r\n\r\nexport const query = async (text: string, params?: any[]) => {\r\n  const start = Date.now();\r\n  const res = await pool.query(text, params);\r\n  const duration = Date.now() - start;\r\n  console.log(`Query: ${text} (${duration}ms)`);\r\n  return res;\r\n};"],"names":[],"mappings":";;;;AAAA,qBAAqB;AACrB;;;;;;AAEA,MAAM,OAAO,IAAI,qJAAI,CAAC;IACpB,kBAAkB,QAAQ,GAAG,CAAC,YAAY;AAC5C;AAEO,MAAM,QAAQ,OAAO,MAAc;IACxC,MAAM,QAAQ,KAAK,GAAG;IACtB,MAAM,MAAM,MAAM,KAAK,KAAK,CAAC,MAAM;IACnC,MAAM,WAAW,KAAK,GAAG,KAAK;IAC9B,QAAQ,GAAG,CAAC,CAAC,OAAO,EAAE,KAAK,EAAE,EAAE,SAAS,GAAG,CAAC;IAC5C,OAAO;AACT"}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/page.tsx"],"sourcesContent":["import { query } from './lib/db';\n\n// 1. Definimos la forma exacta de tus datos SQL\ninterface ReporteFila {\n  categoria: string;\n  items_vendidos: number; // En SQL se llama items_vendidos\n  ingreso_total: string;  // En SQL se llama ingreso_total\n}\n\nasync function getVentasPorCategoria() {\n  // Consultamos la VISTA usando el nombre real de la columna para ordenar\n  const result = await query('SELECT * FROM vw_ventas_categoria ORDER BY ingreso_total DESC');\n  \n  return result.rows as ReporteFila[];\n}\n\nexport default async function Home() {\n  // 2. Pedimos los datos\n  const ventas = await getVentasPorCategoria();\n\n  return (\n    <main style={{ padding: '2rem', fontFamily: 'sans-serif' }}>\n      <h1>ðŸ“Š Reporte 1: Ventas por CategorÃ­a</h1>\n      <p>Datos obtenidos en tiempo real desde PostgreSQL</p>\n\n      <table style={{ borderCollapse: 'collapse', width: '100%', marginTop: '20px' }}>\n        <thead>\n          <tr style={{ background: '#333', color: 'white', textAlign: 'left' }}>\n            <th style={{ padding: '10px' }}>CategorÃ­a</th>\n            <th style={{ padding: '10px' }}>Items Vendidos</th>\n            <th style={{ padding: '10px' }}>Ingreso Total ($)</th>\n          </tr>\n        </thead>\n        <tbody>\n          {/* Ahora usamos los nombres correctos de tu SQL */}\n          {ventas.map((fila, index) => (\n            <tr key={index} style={{ borderBottom: '1px solid #ccc' }}>\n              <td style={{ padding: '10px' }}>{fila.categoria}</td>\n              <td style={{ padding: '10px' }}>{fila.items_vendidos}</td>\n              <td style={{ padding: '10px' }}>\n                 {/* Un pequeÃ±o truco para que se vea como dinero si viene como texto */}\n                 ${Number(fila.ingreso_total).toFixed(2)}\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </main>\n  );\n}"],"names":[],"mappings":";;;;;AAAA;;;;;;;AASA,eAAe;IACb,wEAAwE;IACxE,MAAM,SAAS,MAAM,IAAA,gIAAK,EAAC;IAE3B,OAAO,OAAO,IAAI;AACpB;AAEe,eAAe;IAC5B,uBAAuB;IACvB,MAAM,SAAS,MAAM;IAErB,qBACE,8OAAC;QAAK,OAAO;YAAE,SAAS;YAAQ,YAAY;QAAa;;0BACvD,8OAAC;0BAAG;;;;;;0BACJ,8OAAC;0BAAE;;;;;;0BAEH,8OAAC;gBAAM,OAAO;oBAAE,gBAAgB;oBAAY,OAAO;oBAAQ,WAAW;gBAAO;;kCAC3E,8OAAC;kCACC,cAAA,8OAAC;4BAAG,OAAO;gCAAE,YAAY;gCAAQ,OAAO;gCAAS,WAAW;4BAAO;;8CACjE,8OAAC;oCAAG,OAAO;wCAAE,SAAS;oCAAO;8CAAG;;;;;;8CAChC,8OAAC;oCAAG,OAAO;wCAAE,SAAS;oCAAO;8CAAG;;;;;;8CAChC,8OAAC;oCAAG,OAAO;wCAAE,SAAS;oCAAO;8CAAG;;;;;;;;;;;;;;;;;kCAGpC,8OAAC;kCAEE,OAAO,GAAG,CAAC,CAAC,MAAM,sBACjB,8OAAC;gCAAe,OAAO;oCAAE,cAAc;gCAAiB;;kDACtD,8OAAC;wCAAG,OAAO;4CAAE,SAAS;wCAAO;kDAAI,KAAK,SAAS;;;;;;kDAC/C,8OAAC;wCAAG,OAAO;4CAAE,SAAS;wCAAO;kDAAI,KAAK,cAAc;;;;;;kDACpD,8OAAC;wCAAG,OAAO;4CAAE,SAAS;wCAAO;;4CAC8C;4CACtE,OAAO,KAAK,aAAa,EAAE,OAAO,CAAC;;;;;;;;+BALjC;;;;;;;;;;;;;;;;;;;;;;AAarB"}}]
}